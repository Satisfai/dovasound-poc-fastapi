#!/bin/bash

# Get current branch name
branch_name=$(git rev-parse --abbrev-ref HEAD)

# Define regex for branch name
pattern='^(feature|fix|hotfix|test|release|CERTAI)-[0-9]+-[a-z0-9\-]+$'

if [[ ! $branch_name =~ $pattern ]]; then
  echo "❌ Branch name '$branch_name' does not follow the naming convention."
  echo "✅ Expected format: <feature|fix|hotfix|test|release|CERTAI>-<TICKET-ID>-short-description"
  echo "   Example: CERTAI-123-add-login-form"
  exit 1
fi

exit 0
